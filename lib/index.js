function d(s){let n="",e=/(>)(<)(\/*)/g;s=s.replace(e,`$1\r
$2$3`);let r=0;return s.split(`\r
`).forEach(function(a){let p=0;a.match(/.+<\/\w[^>]*>$/)?p=0:a.match(/^<\/\w/)?r!=0&&(r-=1):a.match(/^<\w[^>]*[^\/]>.*$/)?p=1:p=0;let m="";for(let l=0;l<r;l++)m+="  ";n+=m+a+`\r
`,r+=p}),n}function c(s){return s.startsWith("./")?s:`./${s}`}function f(s){return s?"{Boolean}true":"{Boolean}false"}var o=class{tag;props;children=[];constructor(n,e,r){this.props=r||[],this.addProp("jcr:primaryType","nt:unstructured"),this.addProp("sling:resourceType",e),this.tag=n}child(n){return this.children.push(n),this}addProp(n,e){typeof e!==void 0&&(typeof e=="boolean"?e=f(e):n==="name"?e=c(e):Array.isArray(e)&&(e=e.join(", ")),this.props.push({field:n,value:e}))}xml(n){let e="";for(let a of this.props)!a.value||(e+=` ${a.field}="${a.value}"`);let r=`<${this.tag}${e}`;if(n&&(r='<?xml version="1.0" encoding="UTF-8"?>'+r),this.children.length){r+=">";for(let a of this.children)r+=`${a.xml(!1)}`;r+=`</${this.tag}>`}else r+="/>";return r}items(n){let e=new o("items");return this.child(e),n?.forEach(r=>e.child(r)),this}};var t=(i=>(i.DIALOG="cq/gui/components/authoring/dialog",i.TEXTFIELD="granite/ui/components/coral/foundation/form/textfield",i.CONTAINER="granite/ui/components/coral/foundation/container",i.FIXED_COLUMNS="granite/ui/components/coral/foundation/fixedcolumns",i.TABS="granite/ui/components/coral/foundation/tabs",i.CHECKBOX="granite/ui/components/coral/foundation/form/checkbox",i.PATH_FIELD="granite/ui/components/coral/foundation/form/pathfield",i.DATE_PICKER="granite/ui/components/coral/foundation/form/datepicker",i.FILE_UPLOAD="cq/gui/components/authoring/dialog/fileupload",i.NUMBER_FIELD="granite/ui/components/coral/foundation/form/numberfield",i.PATH_BROWSER="granite/ui/components/coral/foundation/form/pathbrowser",i.TEXTAREA="granite/ui/components/coral/foundation/form/textarea",i.SELECT="granite/ui/components/coral/foundation/form/select",i.FIELD="granite/ui/components/coral/foundation/form/field",i.MULTIFIELD="granite/ui/components/coral/foundation/form/multifield",i.RADIO_GROUP="granite/ui/components/coral/foundation/form/radiogroup",i))(t||{});import{existsSync as u,mkdirSync as O,writeFileSync as x}from"fs";function po(s,n){let e=n.xml(!0);e=d(e),u(s)||O(s,{recursive:!0}),x(`${s}/.content.xml`,e,{})}export{o as AemNode,t as ResourceType,f as aembool,d as formatXml,po as generate,c as getName};
//# sourceMappingURL=index.js.map
